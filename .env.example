# AFI-Reactor Environment Variables (Example)
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ========================================
# HTTP Server Configuration
# ========================================

# Port for the AFI-Reactor HTTP demo server
AFI_REACTOR_PORT=8080

# Optional shared secret for webhook authentication
# If set, TradingView webhooks must include this secret in the payload
# WEBHOOK_SHARED_SECRET=your-secret-here

# ========================================
# MongoDB Configuration (Phase 1: TSSD Vault)
# ========================================

# MongoDB connection URI (Atlas or local)
# Example (Atlas): mongodb+srv://afi_app:YOUR_PASSWORD@cluster0.abc123.mongodb.net/?retryWrites=true&w=majority&appName=AFI
# Example (Local): mongodb://localhost:27017
AFI_MONGO_URI=mongodb+srv://afi_app:YOUR_PASSWORD@cluster0.abc123.mongodb.net/?retryWrites=true&w=majority&appName=AFI

# Database name for AFI data
AFI_MONGO_DB_NAME=afi

# Collection name for TSSD (Time-Series Signal Data) vault
AFI_MONGO_COLLECTION_TSSD=tssd_signals

# ========================================
# Price Feed Configuration
# ========================================

# Price feed source: "demo" (mock data), "blofin" (BloFin exchange), or "coinbase" (Coinbase exchange)
# Default: "demo"
# - "demo": Mock data (no external API calls)
# - "blofin": Real price data from BloFin exchange (spot + perps)
# - "coinbase": Real price data from Coinbase exchange (spot only)
AFI_PRICE_FEED_SOURCE=demo

# BloFin API base URL (optional, uses ccxt default if not set)
# Only needed if using a custom BloFin API endpoint
# BLOFIN_API_BASE_URL=https://api.blofin.com

# Coinbase API base URL (optional, uses ccxt default if not set)
# Only needed if using a custom Coinbase API endpoint
# COINBASE_API_BASE_URL=https://api.coinbase.com

# ========================================
# Sentiment Data Configuration
# ========================================

# Coinalyze API key for perp sentiment enrichment (funding rates, open interest)
# Get your API key from: https://coinalyze.net
# If not set, sentiment enrichment will be skipped (fail-soft)
# COINALYZE_API_KEY=your-coinalyze-api-key-here

# ========================================
# Pattern Regime Data Configuration
# ========================================

# Pattern regime enrichment uses public, keyless APIs:
# - CoinGecko (OHLC data): https://www.coingecko.com/en/api/documentation
# - Alternative.me Fear & Greed Index: https://alternative.me/crypto/fear-and-greed-index/
#
# No API keys required. These sources provide:
# - Multi-day price trends and volatility regimes
# - Cycle phase detection (early/mid/late bull, bear, sideways, etc.)
# - Top/bottom risk assessment
# - External sentiment overlay (Fear & Greed)
#
# If these APIs are unavailable, pattern enrichment falls back to candlestick-only mode.

# ========================================
# News Enrichment Configuration
# ========================================

# Choose which news provider to use for Froggy enrichment:
#   - "none"      : disable news enrichment (default if unset)
#   - "newsdata"  : use NewsData.io crypto news API
NEWS_PROVIDER=newsdata

# NewsData.io API key (required if NEWS_PROVIDER=newsdata)
# Sign up at https://newsdata.io/ for a free developer key.
# Free tier: 200 requests/day
# If not set, news enrichment will be disabled (fail-soft)
NEWSDATA_API_KEY=your-newsdata-api-key-here

# Optional: lookback window in hours for news queries (default: 4)
# This controls how far back to search for recent news headlines
# NOTE: NewsData.io free tier has ~6-8 hour delay, so use 24h window for better results
NEWS_WINDOW_HOURS=24

# ========================================
# AI/ML Enrichment Configuration (Tiny Brains)
# ========================================

# Base URL for Tiny Brains AI/ML microservice (optional)
# If set, Froggy enrichment will call this service to get ML predictions
# If not set or unavailable, enrichment continues without aiMl data (fail-soft)
# Example: http://localhost:8090
# TINY_BRAINS_URL=

# ========================================
# Notes
# ========================================
# - Replace YOUR_PASSWORD with your actual MongoDB password
# - If AFI_MONGO_URI is not set, TSSD vault will be disabled (graceful degradation)
# - All MongoDB env vars are optional for demo purposes
# - Set AFI_PRICE_FEED_SOURCE=blofin or AFI_PRICE_FEED_SOURCE=coinbase to use real exchange data
# - All exchange integrations are READ-ONLY (no order placement)
# - No real trading or AFI token minting occurs in this server

